!function(t){function n(i){if(e[i])return e[i].exports;var s=e[i]={i:i,l:!1,exports:{}};return t[i].call(s.exports,s,s.exports,n),s.l=!0,s.exports}var e={};n.m=t,n.c=e,n.d=function(t,e,i){n.o(t,e)||Object.defineProperty(t,e,{configurable:!1,enumerable:!0,get:i})},n.n=function(t){var e=t&&t.__esModule?function(){return t.default}:function(){return t};return n.d(e,"a",e),e},n.o=function(t,n){return Object.prototype.hasOwnProperty.call(t,n)},n.p="",n(n.s=0)}([function(t,n,e){function i(t){return document.getElementById(t)}var s=e(1),a=["rabbit-big.png","rabbit-lose.png","rabbit-win.png"];a.forEach(function(t,n,e){e[n]="../source/"+t});var r=["0 -854","-174 -852","-349 -852","-524 -852","-698 -851","-873 -848"],o=["0 -373","-175 -376","-350 -377","-524 -377","-699 -377","-873 -379"],u=["0 0","-198 0","-401 0","-609 0","-816 0","0 -96","-208 -97","-415 -97","-623 -97","-831 -97","0 -203","-207 -203","-415 -203","-623 -203","-831 -203","0 -307","-206 -307","-414 -307","-623 -307"],c=["0 0","-163 0","-327 0","-491 0","-655 0","-819 0","0 -135","-166 -135","-333 -135","-500 -135","-668 -135","-835 -135","0 -262"],h=i("rabbit1"),l=i("rabbit2"),f=i("rabbit3"),d=i("rabbit4");!function(){var t=s().loadImages(a).changePosition(h,r,a[0]).repeatForver();t.start(80);var n=!0;h.addEventListener("click",function(){n?(t.pause(),n=!1):(t.restart(),n=!0)})}(),function(){var t=4,n=!0;l.style.backgroundRepeat="no-repeat",s().loadImages(a).enterFrame(function(e,i){var s,u,c=i/80;if(n){if(s=Math.min(50+8*c,300),u=r[t].split(" "),300===s)return n=!1,void e()}else if(s=Math.max(300-8*c,50),u=o[t].split(" "),50===s)return n=!0,void e();6==++t&&(t=0),l.style.backgroundImage="url("+a[0]+")",l.style.backgroundPosition=u[0]+"px "+u[1]+"px",l.style.left=s+"px"}).repeat(2).wait(1e3).changePosition(l,u,a[2]).then(function(){console.log("finish")}).start(80)}(),function(){var t=s().loadImages(a).changePosition(f,u,a[2]).repeat(3).then(function(){console.log("Win animation repeat 3 times and finished"),t.dispose()});t.start(200)}(),function(){var t=s().loadImages(a).changePosition(d,c,a[1]).then(function(){console.log("Lose animation finished"),t.dispose()});t.start(200)}()},function(t,n,e){"use strict";var i=e(2),s=e(3),a=function(){this.taskQueue=[],this.index=0,this.timeline=new s,this.state=0,this.interval=0};a.prototype={constructor:a,_nextTask:function(t){var n=t.wait;if(this.index+=1,n){var e=this;setTimeout(function(){e._runTask()},n)}else this._runTask()},_addTask:function(t,n){return this.taskQueue.push({taskFn:t,type:n}),this},_runTask:function(){if(1===this.state&&this.taskQueue){if(this.index===this.taskQueue.length)return void this.dispose();var t=this.taskQueue[this.index];1===t.type?this._sync(t):this._async(t)}},_sync:function(t){var n=this,e=function(){n._nextTask(t)};(0,t.taskFn)(e)},_async:function(t){var n=this,e=function(e){(0,t.taskFn)(function(){n.timeline.stop(),n._nextTask(t)},e)};this.timeline.onenterFrame=e,this.timeline.start(this.interval)},loadImages:function(t){var n=function(n){function e(t){t?console.log("加载成功！"):console.log("加载失败！"),n()}i(t.slice(),e)};return this._addTask(n,1)},changePosition:function(t,n,e){t.style.backgroundRepeat="no-repeat";var i=n.length,s=null,a="";if(i){var r=this;s=function(s,a){e&&(t.style.backgroundImage="url("+e+")");var o=Math.min(a/r.interval|0,i),u=n[o-1].split(" ");t.style.backgroundPosition=u[0]+"px "+u[1]+"px",o===i&&s()},a=2}else s=r._nextTask,a=1;return this._addTask(s,a)},changeSrc:function(t,n){var e=null,i="",s=n.length;if(s){var a=this;e=function(e,i){var r=Math.min(i/a.interval|0,s);t.src=n[r-1],r===s&&e()},i=2}else e=function(t){t()},i=1;return this._addTask(e,i)},enterFrame:function(t){return this._addTask(t,2)},start:function(t){return 1===this.state?this:this.taskQueue&&this.taskQueue.length?(this.state=1,this.interval=t,this._runTask(),this):this},pause:function(){return 1===this.state&&(this.timeline.stop(),this.state=2),this},stop:function(){0!==this.state&&this.dispose()},restart:function(){return 2===this.state&&(this.timeline.restart(),this.state=1),this},dispose:function(){return 0!==this.state&&(this.state=0,this.taskQueue=null,this.timeline.stop(),this.timeline=null),this},repeat:function(t){var n=null,e="",i=this;return n="number"==typeof t?function(n){--t?(i.index-=1,i._runTask()):n()}:function(t){i.index-=1,i._runTask()},e=1,this._addTask(n,e)},repeatForver:function(){return this.repeat()},then:function(t){var n=function(n){t(),n()};return this._addTask(n,1)},wait:function(t){return this.taskQueue&&this.taskQueue.length>0&&(this.taskQueue[this.taskQueue.length-1].wait=t),this}};var r=function(){return new a};r.version=1,t.exports=r},function(t,n){function e(t,n,e){function i(){a=!0,n(!1)}var a=!1,r=0,o=null,u=!0;for(var c in t)if(t.hasOwnProperty(c)){var h=t[c];"string"==typeof h&&(h=t[c]={src:h}),h&&h.src&&(++r,h.id="_img_"+c+s(),h.img=window[h.id]=new Image,function(t){function e(){i.onload=i.onerror=null;try{delete window[t.id]}catch(t){}--r||a||(clearTimeout(o),n(u))}t.status="load";var i=t.img;i.src=t.src,i.onload=function(){u=u&&!0,t.status="loaded",e()},i.onerror=function(){u=!1,t.status="error",e()}}(h))}r?e&&(o=setTimeout(i,e)):n(success)}var i=0,s=function(){return++i};t.exports=e},function(t,n,e){"use strict";var i=function(){this.animationHandler=0,this.state=0,this.interval=0};i.prototype={constructor:i,start:function(t){1!==this.state&&(this.state=1,this.interval=t||40,s(this,+new Date))},stop:function(){1===this.state&&(this.state=2,this.startTime&&(this.beUsed=+new Date-this.startTime),r(this.animationHandler))},restart:function(){1!==this.state&&this.beUsed&&this.interval&&(this.state=1,s(this,+new Date-this.beUsed))},onenterFrame:function(t){}};var s=function(t,n){function e(){var s=+new Date;t.animationHandler=a(e),s-i>=t.interval&&(t.onenterFrame(s-n),i=s)}var i=+new Date;t.startTime=n,e.interval=t.interval,e()},a=function(){return window.requestAnimationFrame||window.webkitRequestAnimationFrame||window.mozRequestAnimationFrame||window.oRequestAnimationFrame||function(t){window.setTimeout(t,t.interval||40)}}(),r=function(){return window.cancelAnimationFrame||window.mozCancelAnimationFrame||window.webkitCancelAnimationFrame||window.oCancelAnimationFrame||function(t){window.clearTimeout(t)}}();t.exports=i}]);